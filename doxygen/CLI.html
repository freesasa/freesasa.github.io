<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>FreeSASA: Command-line Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeSASA
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Open source SASA calculations</div>
  </td>
    <td style="text-align: right; vertical-align: bottom; padding-right: 0.5em">
      View on <a href="http://github.com/mittinatten/freesasa/" id="github"><strong>GitHub</strong></a>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Command-line Interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Building FreeSASA creates the binary <code>freesasa</code>, which is installed by <code>make install</code>. Calling </p><pre class="fragment">$ freesasa -h
</pre><p>displays a help message listing all options. The following text explains how to use most of them.</p>
<h1><a class="anchor" id="CLI-Default"></a>
Run using defaults</h1>
<p>In the following we will use the RNA/protein complex PDB structure 3WBM as an example. It has four protein chains A, B, C and D, and two RNA strands X and Y. To run a simple SASA calculation using default parameters, simply type: </p><pre class="fragment">$ freesasa 3wbm.pdb
</pre><p>This generates the following output </p><pre class="fragment">PARAMETERS
algorithm    : Lee &amp; Richards
probe-radius : 1.400
threads      : 2
slices       : 20

INPUT
source  : 3wbm.pdb
chains  : ABCDXY
atoms   : 3714

RESULTS (A^2)
Total   :   25190.77
Apolar  :   11552.38
Polar   :   13638.39
CHAIN A :    3785.49
CHAIN B :    4342.33
CHAIN C :    3961.12
CHAIN D :    4904.30
CHAIN X :    4156.46
CHAIN Y :    4041.08
</pre><p>The results are all in the unit Ångström-squared.</p>
<h1><a class="anchor" id="parameters"></a>
Changing parameters</h1>
<p>If higher precision is needed, the command </p><pre class="fragment">$ freesasa -n 100 3wbm.pdb
</pre><p>specifies that the calculation should use 100 slices per atom instead of the default 20. The command </p><pre class="fragment">$ freesasa --shrake-rupley -n 200 --probe-radius 1.2 --n-threads 4 3wbm.pdb
</pre><p>instead calculates the SASA using Shrake &amp; Rupley's algorithm with 200 test points, a probe radius of 1.2 Å, using 4 parallel threads to speed things up.</p>
<p>If the user wants to use their own atomic radii the command </p><pre class="fragment">$ freesasa --config-file &lt;file&gt; 3wbm.pdb
</pre><p>Reads a configuration from a file and uses it to assign atomic radii. The program will halt if it encounters atoms in the PDB input that are not present in the configuration. See <a class="el" href="Config-file.html">Classifier configuration files</a> for instructions how to write a configuration.</p>
<p>To use the atomic radii from NACCESS call </p><pre class="fragment">$ freesasa --radii=naccess 3wbm.pdb
</pre><p>Another way to specify a custom set of atomic radii is to store them as occupancies in the input PDB file </p><pre class="fragment">$ freesasa --radius-from-occupancy 3wbm.pdb
</pre><p>This option allows the user to first use either of the options <code>--print-as-B-values</code> or <code>--B-value-file</code> to write generate a PDB file with the radii used in the calculation, modify the radii of individual atoms in that file, and the recalculate the SASA with these modified radii.</p>
<h1><a class="anchor" id="Output"></a>
Other output types</h1>
<h2><a class="anchor" id="Residue-sasa"></a>
SASA for each residue(-type)</h2>
<p>To calculate the SASA of each residue in the sequence, or each residue type, use the following commands (<code>--no-log</code> suppresses the standard output shown above): </p><pre class="fragment">$ freesasa --foreach-residue --no-log 3wbm.pdb
SEQ A    5 THR :  138.48
SEQ A    6 PRO :   25.53
SEQ A    7 THR :   99.42
...
</pre><p>and </p><pre class="fragment">$ freesasa --foreach-residue-type --no-log 3wbm.pdb
RES ALA :     251.57
RES ARG :    2868.98
RES ASN :    1218.87
...
RES A :    1581.57
RES C :    2967.12
RES G :    1955.16
RES U :    1693.68
</pre><h2><a class="anchor" id="Atom-sasa"></a>
SASA for each atom</h2>
<p>The command-line interface can also be used as a PDB filter: </p><pre class="fragment">$ cat 3wbm.pdb | freesasa --no-log --print-as-B-values 
ATOM      1  N   THR A   5     -19.727  29.259  13.573  1.64  9.44
ATOM      2  CA  THR A   5     -19.209  28.356  14.602  1.88  5.01
ATOM      3  C   THR A   5     -18.747  26.968  14.116  1.61  0.40
...
</pre><p>The output is a PDB-file where the temperature factors have been replaced by SASA values (last column), and occupancy numbers by the radius of each atom (second to last column).</p>
<p>Only the atoms and models used in the calculation will be present in the output (see <a class="el" href="CLI.html#Input">PDB input</a> for how to modify this).</p>
<h2><a class="anchor" id="Combining-sasa"></a>
Several types of output at once</h2>
<p>To generate all three results at the same time and write them to separate files, run </p><pre class="fragment">$ freesasa --residue-file=3wbm.seq --residue-type-file=3wbm.res --B-value-file=3wbm.b 3wbm.pdb
</pre><h2><a class="anchor" id="RSA"></a>
Relative SASA values</h2>
<p>The CLI can also produce output similar to the RSA format from NACCESS using the options <code>--rsa</code> and <code>--rsa-file</code>. This format includes both absolute SASA values (ABS) and relative ones (REL) compared to a precalculated reference max value. The only significant difference between FreeSASA's RSA output format and that of NACCESS (except differences in areas due to different atomic radii), is that FreeSASA will print the value "N/A" where NACCESS prints "-99.9". </p><pre class="fragment">$ freesasa 3wbm.pdb --rsa --no-log
... (header)
REM RES _ NUM      All-atoms   Total-Side   Main-Chain    Non-polar    All polar
REM                ABS   REL    ABS   REL    ABS   REL    ABS   REL    ABS   REL
RES THR A   5   138.48 104.1  99.58 107.4  38.90  96.3  81.59  98.1  56.89 114.0
RES PRO A   6    25.53  19.3  11.31  11.0  14.23  47.7  21.67  18.7   3.86  23.9
...
RES GLY A  15     0.64   0.9   0.00   N/A   0.64   0.9   0.00   0.0   0.64   2.0
...
RES   U Y  23   165.16   N/A 165.16   N/A   0.00   N/A  52.01   N/A 113.15   N/A
RES   C Y  24   165.01   N/A 165.01   N/A   0.00   N/A  46.24   N/A 118.77   N/A
RES   C Y  25   262.46   N/A 262.46   N/A   0.00   N/A  85.93   N/A 176.52   N/A
END  Absolute sums over single chains surface
CHAIN  1 A     3785.5       3062.1        723.3       2051.6       1733.9
CHAIN  2 B     4342.3       3488.6        853.7       2385.2       1957.1
CHAIN  3 C     3961.1       3178.5        782.7       2122.4       1838.7
CHAIN  4 D     4904.3       3926.8        977.5       2572.0       2332.3
CHAIN  5 X     4156.5       4156.5          0.0       1236.9       2919.6
CHAIN  6 Y     4041.1       4041.1          0.0       1184.3       2856.8
END  Absolute sums over all chains
TOTAL         25190.8      21853.6       3337.2      11552.4      13638.4
</pre><p>Note that each RES is a single residue, not a residue type as above (i.e. has the same meaning as SEQ above). This unfortunate confusion of labels is due to RSA support being added much later than the other options. Fixing it now would break the interface, and will thus earliest be dealt with in the next major release.</p>
<p>To calculate the REL values a reference SASA value is needed, calculated using the same atomic radii. At the moment such values are only available for the ProtOr and NACCESS radii (selected using the option <code>--radii</code>), if other radii are used all REL columns will have the value 'N/A'.</p>
<p>The reference SASA values for residue X are calculated from Ala-X-Ala peptides in a stretched out configuration. The reference configurations are supplied for reference in the directory <code>rsa</code>. Since these are not always the most exposed possible configuration, and because bond lengths and bond angles vary, the relative SASA values will sometimes be larger than 100 %. At the moment there is no interface to supply user-defined reference values.</p>
<h3><a class="anchor" id="RSA-naccess"></a>
Using the NACCESS configuration</h3>
<p>The reference values for the NACCESS configuration in FreeSASA are not exactly the same as those that ship with NACCESS, but have been calculated from scratch using the tripeptides that ship with FreeSASA. Calling </p><pre class="fragment">$ freesasa 3wbm.pdb --rsa-file=3wbm.rsa --radii=naccess --no-log
</pre><p>will give an RSA file where the ABS columns are identical to NACCESS (run with the flag <code>-b</code>) for the amino acids, and for nucleic acids the definition of backbone differs (no nucleic acid backbone has been defined in FreeSASA). REL values will differ slightly, due to the differences in reference values above.</p>
<h1><a class="anchor" id="CLI-select"></a>
Selecting groups of atoms</h1>
<p>The option <code>--select</code> can be used to define groups of atoms whose integrated SASA we are interested in. It uses a subset of the Pymol <code>select</code> command syntax, see <a class="el" href="Selection.html">Selection syntax</a> for full documentation. The following example shows how to calculate the sum of exposed surface areas of all aromatic residues and of the four chains A, B, C and D (just the sum of the areas above). </p><pre class="fragment">$ freesasa --select "aromatic, resn phe+tyr+trp+his+pro" --select "abcd, chain A+B+C+D" 3wbm.pdb
...
SELECTIONS
freesasa: warning: Found no matches to resn 'TRP', typo?
freesasa: warning: Found no matches to resn 'HIS', typo?
aromatic :    1196.45
abcd :   16993.24
</pre><p>The lines shown above are appended to the regular output. This particular protein did not have any TRP or HIS residues, hence the warnings (written to stderr). The warnings can be supressed with the flag <code>-w</code>.</p>
<h1><a class="anchor" id="Chain-groups"></a>
Analyzing groups of chains</h1>
<p>Calculating the SASA of a given chain or group of chains separately from the rest of the structure, can be useful for measuring how buried a chain is in a given structure. The option <code>--chain-groups</code> can be used to do such a separate calculation, calling </p><pre class="fragment">$ freesasa --chain-groups=ABCD+XY 3wbm.pdb
</pre><p>produces the regular output for the structure 3WBM, but in addition it runs a separate calculation for the chains A, B, C and D as though X and Y aren't in the structure, and vice versa: </p><pre class="fragment">PARAMETERS
algorithm    : Lee &amp; Richards
probe-radius : 1.400
threads      : 2
slices       : 20


####################

INPUT
source  : 3wbm.pdb
chains  : ABCDXY
atoms   : 3714

RESULTS (A^2)
Total   :   25190.77
Apolar  :   11552.38
Polar   :   13638.39
CHAIN A :    3785.49
CHAIN B :    4342.33
CHAIN C :    3961.12
CHAIN D :    4904.30
CHAIN X :    4156.46
CHAIN Y :    4041.08


####################

INPUT
source  : 3wbm.pdb
chains  : ABCD
atoms   : 2664

RESULTS (A^2)
Total   :   18202.78
Apolar  :    9799.46
Polar   :    8403.32
CHAIN A :    4243.12
CHAIN B :    4595.18
CHAIN C :    4427.11
CHAIN D :    4937.38


####################

INPUT
source  : 3wbm.pdb
chains  : XY
atoms   : 1050

RESULTS (A^2)
Total   :    9396.28
Apolar  :    2743.09
Polar   :    6653.19
CHAIN X :    4714.45
CHAIN Y :    4681.83
</pre><h1><a class="anchor" id="Input"></a>
PDB input</h1>
<h2><a class="anchor" id="Hetatom-hydrogen"></a>
Including extra atoms</h2>
<p>The user can ask to include hydrogen atoms and HETATM entries in the calculation using the options <code>--hydrogen</code> and <code>--hetatm</code>. In both cases adding unknown atoms will emit a warning for each atom. This can either be amended by using the flag '-w' to suppress warnings, or by using a custom classifier so that they are recognized (see <a class="el" href="Config-file.html">Classifier configuration files</a>).</p>
<h2><a class="anchor" id="Halt-skip"></a>
Skipping unknown atoms</h2>
<p>By default FreeSASA guesses the element of an unknown atom and uses that elements VdW radius. If this fails the radius is set to 0 (and hence the atom will not contribute to the calculated area). Users can request to either skip unknown atoms completely (i.e. no guessing) or to halt when unknown atoms are found and exit with an error. This is done with the option <code>--unknown</code> which takes one of the three arguments <code>skip</code>, <code>halt</code> or <code>guess</code> (default). Whenever an unknown atom is skipped or its radius is guessed a warning is printed to stderr.</p>
<h2><a class="anchor" id="Chains-models"></a>
Separating and joining chains and models</h2>
<p>If a PDB file has several chains and/or models, by default all chains of the first model are used, and the rest of the file is ignored. This behavior can be modified using the following options</p>
<ul>
<li><code>--join-models</code>: Joins all models in the input into one large structure. Useful for biological assembly files were different locations of the same chain in the oligomer are represented by different MODEL entries.</li>
<li><code>--separate-models</code>: Calculate SASA separately for each model in the input. Useful when the same file contains several conformations of the same molecule.</li>
<li><code>--separate-chains</code>: Calculate SASA separately for each chain in the input. Can be joined with <code>--separate-models</code> to calculate SASA of each chain in each model.</li>
<li><code>--chain-groups</code>: see <a class="el" href="CLI.html#Chain-groups">Analyzing groups of chains</a> </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 14 2016 20:35:33 for FreeSASA by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-66397346-1', 'auto');
  ga('send', 'pageview');
  var GitHubLink = document.getElementById('github');
  addListener(GitHubLink, 'click', function() {ga('send', 'event', 'doxygen-github', 'click');});
  function addListener(element, type, callback) {
    if (element.addEventListener) element.addEventListener(type, callback);
    else if (element.attachEvent) element.attachEvent('on' + type, callback);
  }
</script>
</body>
</html>
